<html>
	<head>
		<title>Log-in</title>
		<link rel="stylesheet" href="css/indexStyle.css">
	</head>
	<body>
		<div class="title">
      <img src="images/activ8logo.png">
			<h1 class="title-name">Activ8</h1>
		</div>

		<div id="inputForm" class="login">
			<div>
				<input id="usernameInput" autocomplete="off" placeholder="username">
				<input id="passwordInput" autocomplete="off" type="password" placeholder="password">
			</div>
			<button id="loginBtn">Log-in</button>
			<button id="registerBtn">Register</button>
		</div>

		<div id="warning" class="warning">
			<img src="images/warning.png">
			<p id="warningMsg">
				Login info invalid, double check that username and password are correct.
			</p>
		</div>

		<div class="news">
			<h4>Patch Notes</h4>
			<p>
				↳ V 2.5.13 Fixed the dashboard calendar to adjust for leap days <br>
				↳ V 2.5.12 Made the font on the meal page easier to read
			</p>
		</div>

		<div class="version">
			<p>
				V 2.5.13
			</p>
		</div>
	</body>
	<script>
		const usernameInput = document.getElementById("usernameInput");
    const passwordInput = document.getElementById("passwordInput");

    const warning = document.getElementById("warning");
    const warningMsg = document.getElementById("warningMsg");

    function wipeUserData(){
      sessionStorage.removeItem("birthday");
      sessionStorage.removeItem("height");
      sessionStorage.removeItem("weight");
      sessionStorage.removeItem("goalWeight");
      sessionStorage.removeItem("activityDays");
    }
    wipeUserData();

    function inputsValid(){
      const username = usernameInput.value.trim();
      const password = passwordInput.value.trim();

      //check username and password are valid
      if (!username){
        warningMsg.textContent = "Please enter a username";
        warning.classList.add("warning-open");
        return false;
      } else if (!password){
        warningMsg.textContent = "Please enter a password";
        warning.classList.add("warning-open");
        return false;
      }
      return true;
    }

		document.getElementById("loginBtn").addEventListener("click", () => {
      console.log("dfghjkl")
      if(inputsValid()){
        const username = usernameInput.value.trim();
        sessionStorage.setItem("username", username);
        window.location.href = "dashboard.html";
      }
		});

		document.getElementById("registerBtn").addEventListener("click", () => {
			window.location.href = "registration.html";
		});
	</script>
</html>